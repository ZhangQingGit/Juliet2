<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
    "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
   
<mapper namespace="com.lingying.soho.Juliet.mapper.UserMapper">

    <!-- 根据email查询登录判断 -->
    <select id="findByEmail" resultType="com.lingying.soho.Juliet.entity.User">
        SELECT
            uid,
            email,password
           ,phone,usertype
        FROM
            t_user
        WHERE
            email=#{username}
    </select>
    <!-- 根据phone查询登录判断 -->
    <select id="findByPhone" resultType="com.lingying.soho.Juliet.entity.User">
        SELECT
            uid,
            email,password
           ,phone,usertype
        FROM
            t_user
        WHERE
            phone=#{username}
    </select>
    <!-- 根据email注册 -->
    <insert id="EmailReg">
        INSERT INTO
            t_user(email,password,usertype)
        VALUE
            (#{username},#{password},#{usertype})
    </insert>
    <!-- 根据phone注册 -->
    <insert id="PhoneReg">
        INSERT INTO
            t_user(phone,password,usertype)
        VALUE
            (#{username},#{password},#{usertype})
    </insert>

</mapper>